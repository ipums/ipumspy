interactions:
- request:
    body: '{"description": "My IPUMS USA extract", "dataFormat": "fixed_width", "dataStructure":
      {"rectangular": {"on": "P"}}, "samples": {"us2012b": {}}, "variables": {"AG":
      {"preselected": false, "caseSelections": {}, "attachedCharacteristics": [],
      "dataQualityFlags": false}}, "collection": "usa", "version": 2}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '303'
      Content-Type:
      - application/json
      User-Agent:
      - python-ipumspy:0.2.2a0.github.com/ipums/ipumspy
    method: POST
    uri: https://api.ipums.org/extracts?collection=usa&version=2
  response:
    body:
      string: '{"type":"SemanticValidationError","status":{"code":400,"name":"Bad
        Request"},"detail":["Invalid variable name: AG"]}'
    headers:
      Cache-Control:
      - no-cache
      Content-Length:
      - '116'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Mon, 27 Mar 2023 19:39:19 GMT
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Server:
      - nginx/1.18.0
      Vary:
      - Origin
      - Accept
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - SAMEORIGIN
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Ratelimit-Limit:
      - '-1'
      X-Ratelimit-Remaining:
      - '0'
      X-Ratelimit-Reset:
      - '0'
      X-Request-Id:
      - 141fac01-1731-4f16-972b-2030b8382c11
      X-Runtime:
      - '0.314188'
      X-Xss-Protection:
      - '0'
    status:
      code: 400
      message: Bad Request
- request:
    body: '{"description": "My IPUMS USA extract", "dataFormat": "fixed_width", "dataStructure":
      {"rectangular": {"on": "P"}}, "samples": {"us2012b": {}}, "variables": {"YRIMMIG":
      {"preselected": false, "caseSelections": {}, "attachedCharacteristics": [],
      "dataQualityFlags": false}}, "collection": "usa", "version": 2}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '308'
      Content-Type:
      - application/json
      User-Agent:
      - python-ipumspy:0.2.2a0.github.com/ipums/ipumspy
    method: POST
    uri: https://api.ipums.org/extracts?collection=usa&version=2
  response:
    body:
      string: '{"type":"SemanticValidationError","status":{"code":400,"name":"Bad
        Request"},"detail":["YRIMMIG: This variable is not available in any of the
        samples currently selected."]}'
    headers:
      Cache-Control:
      - no-cache
      Content-Length:
      - '172'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Mon, 27 Mar 2023 19:39:19 GMT
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Server:
      - nginx/1.18.0
      Vary:
      - Origin
      - Accept
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - SAMEORIGIN
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Ratelimit-Limit:
      - '-1'
      X-Ratelimit-Remaining:
      - '0'
      X-Ratelimit-Reset:
      - '0'
      X-Request-Id:
      - 537bf025-e2b5-4911-961d-9d39c752ec3d
      X-Runtime:
      - '0.275980'
      X-Xss-Protection:
      - '0'
    status:
      code: 400
      message: Bad Request
- request:
    body: '{"description": "My IPUMS USA extract", "dataFormat": "fixed_width", "dataStructure":
      {"rectangular": {"on": "P"}}, "samples": {"us2012x": {}}, "variables": {"AGE":
      {"preselected": false, "caseSelections": {}, "attachedCharacteristics": [],
      "dataQualityFlags": false}}, "collection": "usa", "version": 2}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '304'
      Content-Type:
      - application/json
      User-Agent:
      - python-ipumspy:0.2.2a0.github.com/ipums/ipumspy
    method: POST
    uri: https://api.ipums.org/extracts?collection=usa&version=2
  response:
    body:
      string: '{"type":"SemanticValidationError","status":{"code":400,"name":"Bad
        Request"},"detail":["Invalid sample name: us2012x"]}'
    headers:
      Cache-Control:
      - no-cache
      Content-Length:
      - '119'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Mon, 27 Mar 2023 19:39:20 GMT
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Server:
      - nginx/1.18.0
      Vary:
      - Origin
      - Accept
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - SAMEORIGIN
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Ratelimit-Limit:
      - '-1'
      X-Ratelimit-Remaining:
      - '0'
      X-Ratelimit-Reset:
      - '0'
      X-Request-Id:
      - 2819e230-0eeb-485f-843e-f862cff8064a
      X-Runtime:
      - '0.278560'
      X-Xss-Protection:
      - '0'
    status:
      code: 400
      message: Bad Request
- request:
    body: '{"description": "My IPUMS USA extract", "dataFormat": "fixed_width", "dataStructure":
      {"hierarchical": {"on": "P"}}, "samples": {"us2012b": {}}, "variables": {"AGE":
      {"preselected": false, "caseSelections": {}, "attachedCharacteristics": [],
      "dataQualityFlags": false}}, "collection": "usa", "version": 2}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '305'
      Content-Type:
      - application/json
      User-Agent:
      - python-ipumspy:0.2.2a0.github.com/ipums/ipumspy
    method: POST
    uri: https://api.ipums.org/extracts?collection=usa&version=2
  response:
    body:
      string: '{"type":"SemanticValidationError","status":{"code":400,"name":"Bad
        Request"},"detail":["The property ''#/dataStructure/hierarchical'' contains
        additional properties [\"on\"] outside of the schema when none are allowed."]}'
    headers:
      Cache-Control:
      - no-cache
      Content-Length:
      - '219'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Mon, 27 Mar 2023 19:39:20 GMT
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Server:
      - nginx/1.18.0
      Vary:
      - Origin
      - Accept
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - SAMEORIGIN
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Ratelimit-Limit:
      - '-1'
      X-Ratelimit-Remaining:
      - '0'
      X-Ratelimit-Reset:
      - '0'
      X-Request-Id:
      - 97896a07-4300-420f-bb93-e3277988011d
      X-Runtime:
      - '0.062938'
      X-Xss-Protection:
      - '0'
    status:
      code: 400
      message: Bad Request
- request:
    body: '{"description": "My IPUMS USA extract", "dataFormat": "fixed_width", "dataStructure":
      {"rectangular": {"on": "Z"}}, "samples": {"us2012b": {}}, "variables": {"AGE":
      {"preselected": false, "caseSelections": {}, "attachedCharacteristics": [],
      "dataQualityFlags": false}}, "collection": "usa", "version": 2}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '304'
      Content-Type:
      - application/json
      User-Agent:
      - python-ipumspy:0.2.2a0.github.com/ipums/ipumspy
    method: POST
    uri: https://api.ipums.org/extracts?collection=usa&version=2
  response:
    body:
      string: '{"type":"SemanticValidationError","status":{"code":400,"name":"Bad
        Request"},"detail":["Invalid Record Type specified in \"data_structure.rectangular.on\"."]}'
    headers:
      Cache-Control:
      - no-cache
      Content-Length:
      - '158'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Mon, 27 Mar 2023 19:39:20 GMT
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Server:
      - nginx/1.18.0
      Vary:
      - Origin
      - Accept
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - SAMEORIGIN
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Ratelimit-Limit:
      - '-1'
      X-Ratelimit-Remaining:
      - '0'
      X-Ratelimit-Reset:
      - '0'
      X-Request-Id:
      - 323a65ed-a787-422b-b777-3856041239cf
      X-Runtime:
      - '0.269131'
      X-Xss-Protection:
      - '0'
    status:
      code: 400
      message: Bad Request
version: 1
